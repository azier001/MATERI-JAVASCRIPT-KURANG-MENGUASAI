# ğŸ“š Dokumentasi Lengkap: Sort International Books

> **Dokumentasi belajar step-by-step untuk pemula** - Dari nol sampai mahir!

---

## ğŸ“‘ Daftar Isi

### ğŸ¯ Pendahuluan
- [Tentang Dokumentasi Ini](#tentang-dokumentasi-ini)
- [Problem Statement](#problem-statement)
- [Test Cases & Expected Output](#test-cases)

### ğŸ“ Perjalanan Belajar Step-by-Step
- [Langkah 1: Validasi Input](#langkah-1)
- [Langkah 2: Membuat Array of Objects](#langkah-2)
- [Langkah 3: Sorting Data](#langkah-3)
- [Langkah 4a: Variabel Tracking](#langkah-4a)
- [Langkah 4b: Logic Continue](#langkah-4b)
- [Langkah 4c: Logic Break](#langkah-4c)
- [Langkah 5: Format Output](#langkah-5)

### ğŸ’» Implementasi Kode
- [Kode 1: Original Step-by-Step](#kode-1)
- [Kode 2: Functional Style](#kode-2)
- [Kode 3: Compact Version](#kode-3)
- [Kode 4: Optimized Version (TERBAIK!)](#kode-4)
- [Kode 5: Coddy's Approach](#kode-5)

### ğŸ” Analisis Mendalam
- [Perbandingan Semua Kode](#perbandingan-kode)
- [Object vs String Approach](#object-vs-string)
- [Bug Analysis - Coddy's Code](#bug-analysis)
- [Naming Convention Best Practices](#naming-convention)

### âš¡ Cheat Sheet
- [Quick Reference](#cheat-sheet)
- [Common Pitfalls](#common-pitfalls)
- [Decision Tree](#decision-tree)

### ğŸ¯ Penutup
- [Key Takeaways](#key-takeaways)
- [Next Steps](#next-steps)

---

<a name="tentang-dokumentasi-ini"></a>
## ğŸ¯ Tentang Dokumentasi Ini

### ğŸ“– Apa Ini?
Dokumentasi ini adalah **catatan lengkap perjalanan belajar** untuk menyelesaikan coding challenge "Sort International Books". Dibuat dengan pendekatan **step-by-step untuk pemula**.

### ğŸ“ Siapa Target-nya?
- âœ… Pemula yang baru belajar JavaScript
- âœ… Developer yang ingin improve naming convention
- âœ… Siapa saja yang suka belajar dengan contoh nyata

### ğŸ’¡ Kenapa Dokumentasi Ini Penting?
- ğŸ“ **Reference pribadi** yang bisa dibaca kapan saja
- ğŸ”„ **Tracking progress** dari nol sampai optimal
- ğŸ¯ **Best practices** yang bisa diterapkan di project lain

---

<a name="problem-statement"></a>
## ğŸ“‹ Problem Statement

### ğŸ¯ Challenge: Sort International Books

Anda membantu acara sorting buku internasional di perpustakaan. Tugas Anda adalah:

**Input:**
- `bookTitles` (array): Judul-judul buku
- `countries` (array): Negara asal masing-masing buku

**Proses:**
1. âœ… Gabungkan setiap buku dengan negara dalam format `"Title - Country"`
2. âœ… Sort alfabetis berdasarkan title
3. âœ… Maksimal **5 buku per negara** (gunakan `continue`)
4. âœ… Stop setelah **20 buku total** (gunakan `break`)

**Output:**
- Array string dengan format `"Title - Country"`

**Aturan Penting:**
- âš ï¸ Jika array kosong atau panjang berbeda â†’ return `[]`
- âš ï¸ **HARUS** pakai `continue` untuk skip buku
- âš ï¸ **HARUS** pakai `break` untuk stop di 20 buku

---

<a name="test-cases"></a>
## ğŸ§ª Test Cases & Expected Output

### Test Case 1: Normal Case
```javascript
const titles1 = [
  "The Great Gatsby", "1984", "To Kill a Mockingbird", 
  "Pride and Prejudice", "The Catcher in the Rye",
  "Animal Farm", "Brave New World", "Lord of the Flies",
  "Jane Eyre", "Wuthering Heights", "Great Expectations",
  "Oliver Twist", "Emma", "Sense and Sensibility",
  "Frankenstein", "Dracula", "The Hobbit",
  "The Lord of the Rings", "Harry Potter", "The Chronicles of Narnia"
];

const countries1 = [
  "USA", "UK", "USA", "UK", "USA",
  "UK", "UK", "UK", "UK", "UK",
  "UK", "UK", "UK", "UK", "UK",
  "Ireland", "Ireland", "UK", "UK", "UK"
];
```

**Expected Output:** 20 buku (maksimal 5 dari UK, 3 dari USA, 2 dari Ireland)

### Test Case 2: Tepat 20 Buku
```javascript
const titles2 = ["Book A", "Book B", ..., "Book T"]; // 20 buku
const countries2 = ["France", "Germany", ..., "Portugal"];
```

**Expected Output:** Semua 20 buku masuk

### Test Case 3: Lebih dari 5 Buku dari Negara yang Sama
```javascript
const titles3 = ["Alpha", "Beta", "Gamma", ..., "Kappa"];
const countries3 = ["Japan", "Japan", "Japan", ..., "Korea"];
```

**Expected Output:** Maksimal 5 dari Japan, sisanya Korea

### Test Case 4: Array Kosong
```javascript
sortInternationalBooks([], [])
```

**Expected Output:** `[]`

### Test Case 5: Panjang Berbeda
```javascript
sortInternationalBooks(["Book1", "Book2"], ["Country1"])
```

**Expected Output:** `[]`

---

<a name="langkah-1"></a>
## ğŸ“ Langkah 1: Validasi Input

### ğŸ“ Konsep
Sebelum memproses data, kita harus **validasi input** terlebih dahulu untuk menghindari error.

### âœ… Yang Perlu Dicek:
1. âŒ Apakah array kosong?
2. âŒ Apakah panjang kedua array sama?

### ğŸ’» Implementasi Pertama:

```javascript
const sortInternationalBooks = (bookTitles, countries) => {
  const isValidInput =
    bookTitles.length > 0 &&
    countries.length > 0 &&
    bookTitles.length === countries.length;

  if (!isValidInput) return [];

  return 'Valid input';
};
```

### ğŸ” Review Naming Convention:

| Variable | Status | Alasan |
|----------|--------|--------|
| `isValidInput` | âœ… Excellent | Prefix `is` untuk boolean, sangat jelas |
| `bookTitles` | âœ… Good | Plural, menunjukkan array |
| `countries` | âœ… Good | Plural, konsisten |

### ğŸ’¡ Alternatif Naming:
```javascript
// Lebih semantic (menunjukkan state)
const hasValidInput = /* ... */;
```

**Kesimpulan Langkah 1:** âœ… Validasi sudah bekerja dengan baik!

---

<a name="langkah-2"></a>
## ğŸ“ Langkah 2: Membuat Array of Objects

### ğŸ“ Konsep
Kita bisa pakai 2 pendekatan:
1. **Array of Objects** â† Kita pilih ini!
2. Array of Strings

### ğŸ¤” Kenapa Pilih Objects?

**âœ… Kelebihan Objects:**
- Data terstruktur dan mudah diakses
- Mudah untuk tracking buku per negara
- Tidak perlu parsing string
- Lebih flexible dan maintainable

**âŒ Kekurangan Strings:**
- Harus `split()` untuk extract data
- Rawan error jika title punya karakter `" - "`
- Kurang flexible

### ğŸ’» Implementasi:

```javascript
const sortInternationalBooks = (bookTitles, countries) => {
  const isValidInput =
    bookTitles.length > 0 &&
    countries.length > 0 &&
    bookTitles.length === countries.length;

  if (!isValidInput) return [];

  const bookEntries = [];

  for (let i = 0; i < bookTitles.length; i++) {
    const bookEntry = {
      title: bookTitles[i],
      country: countries[i],
    };

    bookEntries.push(bookEntry);
  }

  return bookEntries;
};
```

### ğŸ” Review Naming:

| Variable | Status | Alasan |
|----------|--------|--------|
| `bookEntries` | âœ… Good | Plural untuk array, jelas |
| `bookEntry` | âœ… Good | Singular untuk object, konsisten |
| `i` | âœ… Standard | Umum untuk index |

**Output Langkah 2:**
```javascript
[
  { title: "Book A", country: "USA" },
  { title: "Book B", country: "UK" }
]
```

---

<a name="langkah-3"></a>
## ğŸ“ Langkah 3: Sorting Data

### ğŸ“ Konsep
Kita perlu mengurutkan array **alfabetis berdasarkan title**.

### ğŸ’» Implementasi:

```javascript
const sortInternationalBooks = (bookTitles, countries) => {
  // ... validasi & create objects

  const sorted = bookEntries.sort((bookA, bookB) =>
    bookA.title.localeCompare(bookB.title)
  );

  return sorted;
};
```

### ğŸ” Penjelasan Method:

**`.sort()` dengan compare function:**
```javascript
array.sort((a, b) => {
  // Return negatif: a sebelum b
  // Return 0: tidak berubah
  // Return positif: b sebelum a
});
```

**`.localeCompare()` untuk string:**
```javascript
"apple".localeCompare("banana") // -1 (apple < banana)
"zebra".localeCompare("apple")  // 1 (zebra > apple)
```

### ğŸ’¡ Tips:
Bisa langsung tanpa variable `sorted`:
```javascript
bookEntries.sort((bookA, bookB) => 
  bookA.title.localeCompare(bookB.title)
);
return bookEntries;
```

**Output Langkah 3:** Array sudah terurut A-Z!

---

<a name="langkah-4a"></a>
## ğŸ“ Langkah 4a: Variabel Tracking

### ğŸ“ Konsep
Sebelum filtering, kita perlu variabel untuk **tracking**:
1. ğŸ“¦ Hasil akhir (array)
2. ğŸ“Š Jumlah buku per negara (object)

### ğŸ’» Implementasi:

```javascript
const sortInternationalBooks = (bookTitles, countries) => {
  // ... validasi, create objects, sorting

  const sorted = bookEntries.sort((bookA, bookB) =>
    bookA.title.localeCompare(bookB.title)
  );

  const filteredBooks = [];
  const countryCount = {};

  return filteredBooks;
};
```

### ğŸ” Penjelasan Variabel:

**`filteredBooks = []`**
- Array kosong untuk menyimpan hasil akhir
- Maksimal 20 buku

**`countryCount = {}`**
- Object untuk tracking jumlah buku per negara
- Format: `{ "USA": 3, "UK": 5, "Japan": 2 }`

### ğŸ’¡ Alternatif Naming (Better):
```javascript
const selectedBooks = [];      // Lebih semantic
const countryUsage = {};       // Lebih descriptive
const booksPerCountry = {};    // Sangat jelas
```

---

<a name="langkah-4b"></a>
## ğŸ“ Langkah 4b: Logic Continue (Max 5 per Negara)

### ğŸ“ Konsep
Kita perlu **skip buku** jika negara sudah punya 5 buku menggunakan `continue`.

### ğŸ’» Implementasi dengan Debug:

```javascript
for (const book of sorted) {
  const country = book.country;

  console.log(`Processing: ${book.title} (${country})`);

  // Inisialisasi jika negara belum ada
  if (!countryCount[country]) {
    countryCount[country] = 0;
    console.log(`âœ¨ First book from ${country}`);
  }

  console.log(`Current count: ${countryCount[country]}`);

  // Cek apakah sudah 5 buku
  if (countryCount[country] >= 5) {
    console.log(`âŒ SKIP: ${country} already has 5 books`);
    continue; // Skip buku ini!
  }

  // Push ke hasil
  filteredBooks.push(book);
  console.log(`âœ… ADDED`);

  // Increment counter
  countryCount[country]++;
  console.log(`Total books: ${filteredBooks.length}`);
}
```

### ğŸ” Cara Kerja `continue`:

```javascript
for (const book of sorted) {
  if (condition) {
    continue; // Langsung loncat ke iterasi berikutnya
  }
  
  // Code ini akan di-skip jika continue dijalankan
  console.log("This won't run if continue is executed");
}
```

### ğŸ’¡ Key Points:
- âœ… `continue` hanya untuk **skip iterasi saat ini**
- âœ… Loop tetap jalan untuk item berikutnya
- âœ… Sempurna untuk kondisi "maksimal 5 per negara"

---

<a name="langkah-4c"></a>
## ğŸ“ Langkah 4c: Logic Break (Stop di 20 Buku)

### ğŸ“ Konsep
Kita perlu **stop loop** setelah 20 buku menggunakan `break`.

### ğŸ’» Implementasi:

```javascript
for (const book of sorted) {
  // CEK DI AWAL LOOP!
  if (filteredBooks.length >= 20) {
    console.log('ğŸ›‘ STOP: Already have 20 books');
    break; // Stop seluruh loop!
  }

  const country = book.country;

  if (!countryCount[country]) countryCount[country] = 0;

  if (countryCount[country] >= 5) continue;

  filteredBooks.push(book);
  countryCount[country]++;
}
```

### ğŸ” Cara Kerja `break`:

```javascript
for (const book of sorted) {
  if (condition) {
    break; // STOP seluruh loop, keluar sepenuhnya
  }
  
  // Code ini tidak akan pernah dijalankan setelah break
  console.log("This won't run after break");
}
// Eksekusi lanjut ke sini setelah break
```

### ğŸ’¡ Perbedaan `continue` vs `break`:

| Keyword | Fungsi | Analogi |
|---------|--------|---------|
| `continue` | Skip iterasi ini, lanjut ke berikutnya | â­ï¸ Skip lagu |
| `break` | Stop seluruh loop | â¹ï¸ Stop music player |

### âš ï¸ Urutan Penting:
```javascript
// âœ… BENAR: Cek break di AWAL
if (filteredBooks.length >= 20) break;
if (countryCount[country] >= 5) continue;
filteredBooks.push(book);

// âŒ SALAH: Cek break di AKHIR
filteredBooks.push(book);
if (filteredBooks.length >= 20) break; // Sudah 21 buku!
```

---

<a name="langkah-5"></a>
## ğŸ“ Langkah 5: Format Output

### ğŸ“ Konsep
Convert array of objects menjadi array of strings dengan format `"Title - Country"`.

### ğŸ’» Implementasi:

```javascript
const sortInternationalBooks = (bookTitles, countries) => {
  // ... semua logic sebelumnya

  return filteredBooks.map((book) => `${book.title} - ${book.country}`);
};
```

### ğŸ” Penjelasan `.map()`:

**Dari:**
```javascript
[
  { title: "Book A", country: "USA" },
  { title: "Book B", country: "UK" }
]
```

**Menjadi:**
```javascript
[
  "Book A - USA",
  "Book B - UK"
]
```

### ğŸ’¡ Alternatif (Destructuring):
```javascript
return filteredBooks.map(({ title, country }) => 
  `${title} - ${country}`
);
```

### âœ¨ Optimasi Super:
Push langsung dalam format string!
```javascript
// Di dalam loop
filteredBooks.push(`${book.title} - ${book.country}`);

// Tidak perlu map lagi
return filteredBooks;
```

**ğŸ‰ SELESAI! Kode lengkap sudah jadi!**

---

<a name="kode-1"></a>
## ğŸ’» Kode 1: Original Step-by-Step

### ğŸ“Œ Karakteristik
- âœ… Mengikuti proses belajar step-by-step
- âœ… Explicit variables untuk clarity
- âœ… Traditional loop
- âœ… Easy to understand untuk pemula

### ğŸ“ Kode Lengkap:

```javascript
const sortInternationalBooks = (bookTitles, countries) => {
  const isValidInput =
    bookTitles.length > 0 &&
    countries.length > 0 &&
    bookTitles.length === countries.length;

  if (!isValidInput) return [];

  const bookEntries = [];

  for (let i = 0; i < bookTitles.length; i++) {
    const bookEntry = {
      title: bookTitles[i],
      country: countries[i],
    };
    bookEntries.push(bookEntry);
  }

  const sorted = bookEntries.sort((bookA, bookB) =>
    bookA.title.localeCompare(bookB.title)
  );

  const filteredBooks = [];
  const countryCount = {};

  for (const book of sorted) {
    if (filteredBooks.length >= 20) break;

    const country = book.country;

    if (!countryCount[country]) countryCount[country] = 0;

    if (countryCount[country] >= 5) continue;

    filteredBooks.push(book);
    countryCount[country]++;
  }

  return filteredBooks.map((book) => `${book.title} - ${book.country}`);
};
```

### â­ Rating:

| Aspek | Score | Keterangan |
|-------|-------|------------|
| Readability | â­â­â­â­â­ | Sangat mudah dipahami |
| Performance | â­â­â­â­ | Baik, ada extra `.map()` di akhir |
| Maintainability | â­â­â­â­ | Explicit, mudah di-maintain |
| Modern JS | â­â­â­ | Standard, belum optimal |

---

<a name="kode-2"></a>
## ğŸ’» Kode 2: Functional Style

### ğŸ“Œ Karakteristik
- âœ… Menggunakan `.map()` untuk create objects
- âœ… More declarative approach
- âœ… Better naming convention
- âœ… Functional programming style

### ğŸ“ Kode Lengkap:

```javascript
const sortInternationalBooks = (bookTitles, countries) => {
  if (!bookTitles.length || bookTitles.length !== countries.length) {
    return [];
  }

  const books = bookTitles.map((title, index) => ({
    title,
    country: countries[index]
  }));

  const sortedBooks = books.sort((a, b) => 
    a.title.localeCompare(b.title)
  );

  const filteredBooks = [];
  const booksPerCountry = {};

  for (const book of sortedBooks) {
    if (filteredBooks.length >= 20) break;

    const currentCount = booksPerCountry[book.country] || 0;
    if (currentCount >= 5) continue;

    filteredBooks.push(book);
    booksPerCountry[book.country] = currentCount + 1;
  }

  return filteredBooks.map(({ title, country }) => 
    `${title} - ${country}`
  );
};
```

### ğŸ” Improvements:

| Aspect | Improvement |
|--------|-------------|
| Validation | Lebih concise |
| Object Creation | Pakai `.map()` (functional) |
| Naming | `booksPerCountry` lebih descriptive |
| Destructuring | Pakai destructuring di `.map()` |

### â­ Rating:

| Aspek | Score | Keterangan |
|-------|-------|------------|
| Readability | â­â­â­â­ | Clean dan jelas |
| Performance | â­â­â­â­ | Sama seperti #1 |
| Maintainability | â­â­â­â­â­ | Excellent structure |
| Modern JS | â­â­â­â­ | Functional approach |

---

<a name="kode-3"></a>
## ğŸ’» Kode 3: Compact Version

### ğŸ“Œ Karakteristik
- âœ… Method chaining `.map().sort()`
- âœ… Lebih ringkas
- âœ… Balanced readability & conciseness
- âœ… Good for experienced developers

### ğŸ“ Kode Lengkap:

```javascript
const sortInternationalBooks = (bookTitles, countries) => {
  if (!bookTitles.length || bookTitles.length !== countries.length) {
    return [];
  }

  const books = bookTitles
    .map((title, idx) => ({ title, country: countries[idx] }))
    .sort((a, b) => a.title.localeCompare(b.title));

  const result = [];
  const countByCountry = {};

  for (const book of books) {
    if (result.length >= 20) break;

    const count = countByCountry[book.country] || 0;
    if (count >= 5) continue;

    result.push(book);
    countByCountry[book.country] = count + 1;
  }

  return result.map(({ title, country }) => `${title} - ${country}`);
};
```

### ğŸ” Key Features:

| Feature | Penjelasan |
|---------|------------|
| Method Chaining | `.map().sort()` dalam satu statement |
| `idx` | Abbreviation umum untuk `index` |
| `result` | Simple dan jelas |
| `countByCountry` | Descriptive naming |

### â­ Rating:

| Aspek | Score | Keterangan |
|-------|-------|------------|
| Readability | â­â­â­â­ | Compact tapi tetap jelas |
| Performance | â­â­â­â­ | Sama seperti sebelumnya |
| Maintainability | â­â­â­â­ | Good balance |
| Modern JS | â­â­â­â­ | Chaining + destructuring |

---

<a name="kode-4"></a>
## ğŸ’» Kode 4: Optimized Version â­ TERBAIK!

### ğŸ“Œ Karakteristik
- âœ… **Push langsung formatted string** (no extra `.map()`)
- âœ… Modern operator `??=` (nullish coalescing assignment)
- âœ… **Best naming convention**
- âœ… Most efficient implementation

### ğŸ“ Kode Lengkap:

```javascript
const sortInternationalBooks = (bookTitles, countries) => {
  const hasValidInput =
    bookTitles.length > 0 &&
    countries.length > 0 &&
    bookTitles.length === countries.length;

  if (!hasValidInput) return [];

  const books = bookTitles.map((title, index) => ({
    title,
    country: countries[index],
  }));

  books.sort((a, b) => a.title.localeCompare(b.title));

  const countryUsage = {};
  const selectedBooks = [];

  for (const book of books) {
    if (selectedBooks.length >= 20) break;

    const { country } = book;
    countryUsage[country] ??= 0;

    if (countryUsage[country] === 5) continue;

    selectedBooks.push(`${book.title} - ${country}`);
    countryUsage[country]++;
  }

  return selectedBooks;
};
```

### ğŸ” Why This is The BEST:

**1. Naming Excellence:**
| Variable | Why Better |
|----------|------------|
| `hasValidInput` | Semantic, menunjukkan state |
| `countryUsage` | Super descriptive! |
| `selectedBooks` | Jelas maksudnya |

**2. Modern Operator `??=`:**
```javascript
// Sebelum
if (!countryUsage[country]) countryUsage[country] = 0;

// Sesudah (Modern!)
countryUsage[country] ??= 0;
```

**3. Performance Optimization:**
```javascript
// Langsung push formatted string
selectedBooks.push(`${book.title} - ${country}`);

// Tidak perlu .map() lagi di akhir! âœ¨
return selectedBooks;
```

**4. Destructuring:**
```javascript
const { country } = book; // Clean!
```

### â­ Rating:

| Aspek | Score | Keterangan |
|-------|-------|------------|
| Readability | â­â­â­â­â­ | Perfect naming |
| Performance | â­â­â­â­â­ | Optimal! No extra map |
| Maintainability | â­â­â­â­â­ | Excellent |
| Modern JS | â­â­â­â­â­ | Uses `??=` operator |

### ğŸ† **WINNER! Ini kode terbaik untuk production!**

---

<a name="kode-5"></a>
## ğŸ’» Kode 5: Coddy's Approach

### ğŸ“Œ Karakteristik
- âœ… String-based approach (bukan object)
- âœ… Sangat compact
- âŒ Harus parsing dengan `.split()`
- âš ï¸ Ada bug di logic counter

### ğŸ“ Kode Lengkap:

```javascript
function sortInternationalBooks(bookTitles, countries) {
  if (!bookTitles || !countries || bookTitles.length !== countries.length) {
    return [];
  }

  const combinedBooks = bookTitles.map((title, index) => 
    `${title} - ${countries[index]}`
  );

  const sortedBooks = combinedBooks.sort((a, b) => a.localeCompare(b));

  const result = [];
  const countryCount = {};

  for (const book of sortedBooks) {
    const country = book.split(' - ')[1];
    countryCount[country] = (countryCount[country] || 0) + 1;

    if (countryCount[country] > 5) continue;

    result.push(book);

    if (result.length === 20) break;
  }

  return result;
}
```

### âš ï¸ Masalah & Bug:

**Bug 1: Counter Logic Salah**
```javascript
countryCount[country] = (countryCount[country] || 0) + 1;
if (countryCount[country] > 5) continue; // âŒ Salah!

// Book ke-6 akan masuk dulu baru di-skip
// Hasil: bisa dapat 6 buku per negara!
```

**Fix:**
```javascript
// Cek SEBELUM increment
if (countryCount[country] >= 5) continue;
countryCount[country] = (countryCount[country] || 0) + 1;
```

**Bug 2: String Splitting Rawan Error**
```javascript
const country = book.split(' - ')[1];

// Jika title punya " - " di dalamnya:
book = "War - And Peace - Russia"
country = "And Peace" // âŒ SALAH! (harusnya "Russia")
```

### ğŸ” Pros & Cons:

**Pros:**
- âœ… Sangat compact
- âœ… Sedikit transformasi

**Cons:**
- âŒ Bug di counter logic
- âŒ Rawan error jika title punya `" - "`
- âŒ Harus parsing string (not elegant)
- âŒ Kurang maintainable

### â­ Rating:

| Aspek | Score | Keterangan |
|-------|-------|------------|
| Readability | â­â­â­ | OK tapi ada parsing |
| Performance | â­â­â­â­â­ | Efficient |
| Maintainability | â­â­ | Sulit maintain, ada bug |
| Modern JS | â­â­â­ | Standard |

### ğŸ’¡ Kesimpulan:
Approach ini **OK untuk quick challenge**, tapi **TIDAK untuk production** karena ada bug dan less robust.

---

<a name="perbandingan-kode"></a>
## ğŸ” Perbandingan Semua Kode

### ğŸ“Š Comparison Table:

| Kode | Readability | Performance | Maintainability | Modern JS | Best For |
|------|-------------|-------------|-----------------|-----------|----------|
| **#1 Original** | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­ | ğŸ“š Learning |
| **#2 Functional** | â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | ğŸ’¼ Balance |
| **#3 Compact** | â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | âš¡ Quick |
| **#4 Optimized** | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | ğŸ† **Production** |
| **#5 Coddy** | â­â­â­ | â­â­â­â­â­ | â­â­ | â­â­â­ | ğŸš« Not Recommended |

### ğŸ¯ Rekomendasi Penggunaan:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Skenario â†’ Pilih Kode              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“š Belajar pertama kali â†’ #1       â”‚
â”‚  ğŸ’¼ Interview coding â†’ #4           â”‚
â”‚  ğŸ¢ Production code â†’ #4            â”‚
â”‚  âš¡ Quick challenge â†’ #3            â”‚
â”‚  ğŸ“ Teach others â†’ #2               â”‚
â”‚  ğŸš« Avoid â†’ #5                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

<a name="object-vs-string"></a>
## ğŸ” Object vs String Approach

### ğŸ“Š Perbandingan Mendalam:

#### **Approach 1: Array of Objects** (Kode #1-#4)

**Structure:**
```javascript
[
  { title: "Book A", country: "USA" },
  { title: "Book B", country: "UK" }
]
```

**âœ… Kelebihan:**
- ğŸ¯ Data terstruktur, mudah diakses
- ğŸ”’ Type-safe, tidak ada parsing
- ğŸ› ï¸ Mudah untuk tracking per negara
- ğŸ“ˆ Scalable (mudah tambah property)
- ğŸ› Tidak ada bug potential dari parsing

**âŒ Kekurangan:**
- ğŸ“¦ Perlu extra `.map()` di akhir (kecuali #4)
- ğŸ’¾ Sedikit lebih banyak memory

**Best For:** Production code, maintainability

---

#### **Approach 2: Array of Strings** (Kode #5)

**Structure:**
```javascript
[
  "Book A - USA",
  "Book B - UK"
]
```

**âœ… Kelebihan:**
- âš¡ Lebih compact dan simple
- ğŸš€ Langsung format final
- ğŸ’¾ Memory efficient

**âŒ Kekurangan:**
- ğŸ”§ Harus `.split()` untuk extract data
- ğŸ› **Bug potential**: title dengan `" - "`
- ğŸš« Kurang flexible
- ğŸ“‰ Sulit di-maintain

**Example Bug:**
```javascript
// Title: "War - And Peace"
// Country: "Russia"

const book = "War - And Peace - Russia";
const country = book.split(' - ')[1]; 
// Result: "And Peace" âŒ
// Expected: "Russia"

// FIX: Gunakan split dengan limit atau lastIndexOf
const parts = book.split(' - ');
const country = parts[parts.length - 1]; // âœ… "Russia"
```

**Best For:** Quick challenges dengan input terjamin clean

---

### ğŸ† Winner: **Array of Objects!**

**Alasan:**
1. âœ… Robust dan tidak ada bug potential
2. âœ… Maintainable untuk production
3. âœ… Modern best practice
4. âœ… Performance difference negligible

---

<a name="bug-analysis"></a>
## ğŸ› Bug Analysis - Coddy's Code

### âš ï¸ Bug #1: Counter Logic Error

**Kode Bermasalah:**
```javascript
for (const book of sortedBooks) {
  const country = book.split(' - ')[1];
  
  // INCREMENT DULU
  countryCount[country] = (countryCount[country] || 0) + 1;
  
  // BARU CEK (Terlambat!)
  if (countryCount[country] > 5) continue;
  
  result.push(book);
}
```

**Apa yang Terjadi:**
```javascript
// Book 1-5 dari USA â†’ OK, masuk semua
countryCount["USA"] = 1, 2, 3, 4, 5

// Book 6 dari USA:
countryCount["USA"] = 6  // â† INCREMENT DULU
if (6 > 5) continue;     // â† BARU CEK, tapi sudah 6!
// Book ke-6 TIDAK masuk, tapi counter sudah 6!

// Book 7 dari USA:
countryCount["USA"] = 7
if (7 > 5) continue;     // Skip
```

**Hasil:** Logic tetap benar secara kebetulan, tapi **tidak elegant** dan **counter tidak akurat**.

---

**Fix #1: Cek Sebelum Increment**
```javascript
for (const book of sortedBooks) {
  const country = book.split(' - ')[1];
  
  const count = countryCount[country] || 0;
  
  // CEK DULU
  if (count >= 5) continue;
  
  // BARU INCREMENT & PUSH
  result.push(book);
  countryCount[country] = count + 1;
}
```

---

**Fix #2: Gunakan Equality Check**
```javascript
// Kalau tetap mau increment dulu
countryCount[country] = (countryCount[country] || 0) + 1;

// Gunakan === bukan >
if (countryCount[country] === 6) continue;
```

### âš ï¸ Bug #2: String Splitting Vulnerability

**Kode Bermasalah:**
```javascript
const country = book.split(' - ')[1];
```

**Test Case yang Gagal:**
```javascript
bookTitles = ["War - And Peace"];
countries = ["Russia"];

// Result string: "War - And Peace - Russia"
const country = book.split(' - ')[1];
// Expected: "Russia"
// Actual: "And Peace" âŒ
```

**Fix:**
```javascript
// Option 1: Split dan ambil element terakhir
const parts = book.split(' - ');
const country = parts[parts.length - 1];

// Option 2: lastIndexOf
const lastDashIndex = book.lastIndexOf(' - ');
const country = book.substring(lastDashIndex + 3);

// Option 3: TERBAIK â†’ Pakai Object! (seperti kode #1-#4)
```

---

### ğŸ’¡ Lesson Learned:

| Issue | Bad Practice | Good Practice |
|-------|--------------|---------------|
| Counter | Increment lalu cek | Cek dulu baru increment |
| Data Structure | Parse string | Gunakan object |
| Validation | Assume input clean | Defensive programming |

**Kesimpulan:** Kode #5 menunjukkan pentingnya **defensive programming** dan **structured data**!

---

<a name="naming-convention"></a>
## ğŸ“ Naming Convention Best Practices

### ğŸ¯ General Rules:

```javascript
// âœ… GOOD: Descriptive & Clear
const selectedBooks = [];
const countryUsage = {};
const hasValidInput = true;

// âŒ BAD: Vague & Unclear
const arr = [];
const obj = {};
const flag = true;
```

### ğŸ“Š Comparison Table:

| Concept | âŒ Bad | ğŸ˜ OK | âœ… Good | â­ Excellent |
|---------|--------|-------|---------|-------------|
| **Boolean** | `valid` | `isValid` | `isValidInput` | `hasValidInput` |
| **Array** | `data` | `books` | `filteredBooks` | `selectedBooks` |
| **Counter** | `count` | `counter` | `countryCount` | `countryUsage` |
| **Result** | `arr` | `result` | `finalBooks` | `selectedBooks` |

### ğŸ”¤ Prefixes untuk Boolean:

```javascript
// is â†’ State/Condition
const isValid = true;
const isReady = false;

// has â†’ Possession
const hasValidInput = true;
const hasError = false;

// can/should â†’ Permission/Recommendation
const canSubmit = true;
const shouldContinue = false;
```

### ğŸ“¦ Array Naming:

```javascript
// âœ… PLURAL untuk array
const books = [];
const countries = [];
const selectedBooks = [];

// âœ… SINGULAR untuk single item
const book = { title: "...", country: "..." };
const country = "USA";
```

### ğŸ”¢ Counter/Object Naming:

```javascript
// Jelas apa yang di-count
const countryUsage = {};        // â­ Excellent
const booksPerCountry = {};     // â­ Excellent
const countByCountry = {};      // âœ… Good
const countryCount = {};        // ğŸ˜ OK (redundant)
const count = {};               // âŒ Bad (too vague)
```

### ğŸ¨ Variable Naming Pattern:

```javascript
// Pattern: <adjective><noun>
const sortedBooks = [];      // sorted (adj) + books (noun)
const filteredBooks = [];    // filtered + books
const selectedBooks = [];    // selected + books

// Pattern: <noun><preposition><noun>
const booksPerCountry = {};  // books per country
const countByCountry = {};   // count by country
```

### ğŸ’¡ Special Cases:

**Index Variables:**
```javascript
// âœ… Standard abbreviations OK
for (let i = 0; i < arr.length; i++) {}
for (let idx = 0; idx < arr.length; idx++) {}

// âœ… Descriptive untuk complex loops
for (let bookIndex = 0; bookIndex < books.length; bookIndex++) {}
```

**Temporary Variables:**
```javascript
// âœ… OK untuk scope kecil
const { country } = book;
const count = countryUsage[country] || 0;

// âŒ BAD untuk scope besar
const temp = someComplexCalculation();
```

---

<a name="cheat-sheet"></a>
## âš¡ Cheat Sheet - Quick Reference

### ğŸ¯ Problem Summary
Sorting buku internasional dengan **max 5 per negara** dan **max 20 total**.

### ğŸ“ Solution Template (Best Version):

```javascript
const sortInternationalBooks = (bookTitles, countries) => {
  // 1. Validate
  const hasValidInput =
    bookTitles.length > 0 &&
    countries.length > 0 &&
    bookTitles.length === countries.length;
  if (!hasValidInput) return [];

  // 2. Transform to objects
  const books = bookTitles.map((title, index) => ({
    title,
    country: countries[index],
  }));

  // 3. Sort alphabetically
  books.sort((a, b) => a.title.localeCompare(b.title));

  // 4. Filter with constraints
  const countryUsage = {};
  const selectedBooks = [];

  for (const book of books) {
    if (selectedBooks.length >= 20) break;     // Max 20 total
    
    const { country } = book;
    countryUsage[country] ??= 0;
    
    if (countryUsage[country] === 5) continue; // Max 5 per country
    
    selectedBooks.push(`${book.title} - ${country}`);
    countryUsage[country]++;
  }

  return selectedBooks;
};
```

### ğŸ”‘ Key Concepts:

| Concept | Syntax | Purpose |
|---------|--------|---------|
| **Validation** | `if (!valid) return []` | Early return |
| **Transform** | `.map((item, idx) => ...)` | Array to objects |
| **Sort** | `.sort((a, b) => a.localeCompare(b))` | Alphabetical |
| **Continue** | `if (condition) continue` | Skip iteration |
| **Break** | `if (condition) break` | Stop loop |
| **Nullish** | `obj[key] ??= 0` | Set if undefined/null |
| **Destructure** | `const { prop } = obj` | Extract property |

### ğŸ“Š Time Complexity:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Operation      â”‚ Complexity        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Validation     â”‚ O(1)              â”‚
â”‚ Map to Objects â”‚ O(n)              â”‚
â”‚ Sort           â”‚ O(n log n) â­     â”‚
â”‚ Filter Loop    â”‚ O(n)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TOTAL          â”‚ O(n log n)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

n = jumlah buku
Bottleneck: Sorting operation
```

### ğŸ’¾ Space Complexity:

```
O(n) â†’ untuk array books, selectedBooks, countryUsage
```

---

<a name="common-pitfalls"></a>
## âš ï¸ Common Pitfalls

### ğŸ› Pitfall #1: Counter Logic

âŒ **WRONG:**
```javascript
countryCount[country]++;
if (countryCount[country] > 5) continue;
// Book ke-6 sudah di-count!
```

âœ… **CORRECT:**
```javascript
if (countryCount[country] >= 5) continue;
countryCount[country]++;
// Cek dulu baru increment
```

---

### ğŸ› Pitfall #2: Break Position

âŒ **WRONG:**
```javascript
result.push(book);
if (result.length >= 20) break;
// Bisa jadi 21 buku!
```

âœ… **CORRECT:**
```javascript
if (result.length >= 20) break;
result.push(book);
// Cek dulu baru push
```

---

### ğŸ› Pitfall #3: String Splitting

âŒ **WRONG:**
```javascript
const country = book.split(' - ')[1];
// Gagal jika title punya " - "
```

âœ… **CORRECT:**
```javascript
// Gunakan object approach
const { country } = book;
```

---

### ğŸ› Pitfall #4: Validation

âŒ **WRONG:**
```javascript
if (bookTitles.length !== countries.length) return [];
// Tidak cek jika kosong!
```

âœ… **CORRECT:**
```javascript
if (!bookTitles.length || bookTitles.length !== countries.length) {
  return [];
}
```

---

### ğŸ› Pitfall #5: Naming

âŒ **WRONG:**
```javascript
const arr = [];
const obj = {};
const data = [];
```

âœ… **CORRECT:**
```javascript
const selectedBooks = [];
const countryUsage = {};
const books = [];
```

---

<a name="decision-tree"></a>
## ğŸŒ³ Decision Tree - Pilih Kode Yang Mana?

```
                    START
                      |
                      â†“
          Tujuan kamu apa?
                      |
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“             â†“             â†“
    BELAJAR      INTERVIEW     PRODUCTION
        |             |             |
        â†“             â†“             â†“
   Kode #1      Kode #4        Kode #4
  (Step by      (Optimized)   (Optimized)
   Step)            â­            â­
        
        
        Perlu simple & cepat?
                |
                â†“
            Kode #3
          (Compact)
            
            
        Teach others?
                |
                â†“
            Kode #2
         (Functional)
```

### ğŸ“Š Quick Decision Matrix:

| Kriteria | Pilihan |
|----------|---------|
| ğŸ“ **Baru belajar JS** | #1 Original |
| ğŸ’¼ **Interview coding** | #4 Optimized |
| ğŸ¢ **Production code** | #4 Optimized |
| âš¡ **Quick challenge** | #3 Compact |
| ğŸ‘¨â€ğŸ« **Mengajar orang** | #2 Functional |
| ğŸš« **Hindari** | #5 Coddy |

---

<a name="key-takeaways"></a>
## ğŸ¯ Key Takeaways

### ğŸ“š Hal Penting yang Dipelajari:

#### **1. ğŸ—ï¸ Structured Data > String Parsing**
```javascript
// âœ… GOOD: Object
{ title: "Book", country: "USA" }

// âŒ BAD: String yang perlu parsing
"Book - USA"
```
**Lesson:** Selalu gunakan data structure yang tepat!

---

#### **2. ğŸ“ Naming Convention Matters**
```javascript
// Impact pada readability:
const countryUsage = {};  // â­ Langsung paham!
const obj = {};           // âŒ Harus baca context
```
**Lesson:** Good naming = self-documenting code!

---

#### **3. ğŸ”„ Continue vs Break**
```javascript
continue â†’ Skip iterasi ini, lanjut berikutnya
break    â†’ Stop seluruh loop
```
**Lesson:** Pahami kapan pakai yang mana!

---

#### **4. âš¡ Performance Optimization**
```javascript
// Optimasi: Push langsung formatted string
selectedBooks.push(`${title} - ${country}`);
return selectedBooks;

// Vs: Extra .map() di akhir
return books.map(b => `${b.title} - ${b.country}`);
```
**Lesson:** Small optimizations add up!

---

#### **5. ğŸ› Defensive Programming**
```javascript
// Always validate input
if (!arr.length || arr1.length !== arr2.length) return [];

// Always check before increment
if (count >= 5) continue;
count++;
```
**Lesson:** Prevent bugs before they happen!

---

#### **6. ğŸ¨ Modern JavaScript**
```javascript
// Nullish coalescing assignment
obj[key] ??= 0;

// Destructuring
const { country } = book;

// Template literals
`${title} - ${country}`
```
**Lesson:** Modern syntax = cleaner code!

---

### ğŸ† Best Practices Summary:

| Practice | âœ… Do | âŒ Don't |
|----------|-------|----------|
| **Data Structure** | Use objects | Parse strings |
| **Naming** | Descriptive names | Vague names (arr, obj) |
| **Validation** | Check early | Assume valid input |
| **Loop Control** | Check before action | Act before check |
| **Code Style** | Clean & readable | Over-clever |

---

### ğŸ’¡ Prinsip SOLID yang Diterapkan:

**Single Responsibility:**
- Setiap step punya tugas spesifik
- Validation â†’ Transform â†’ Sort â†’ Filter

**Open/Closed:**
- Mudah extend (tambah property di object)
- Tidak perlu ubah core logic

**Readability:**
- Kode mudah dipahami
- Self-documenting dengan naming yang baik

---

<a name="next-steps"></a>
## ğŸš€ Next Steps

### ğŸ“– Untuk Belajar Lebih Lanjut:

#### **1. Practice Variations:**
```javascript
// Challenge tambahan:
- Maksimal 3 buku per negara
- Stop di 50 buku
- Sort descending
- Group by country
- Export to CSV
```

#### **2. Add Features:**
```javascript
// Fitur tambahan:
- Search by country
- Filter by year
- Multiple sort criteria
- Pagination (10 per page)
```

#### **3. Optimization:**
```javascript
// Explore lebih dalam:
- Binary search untuk sorted array
- Memoization untuk repeated calls
- Lazy evaluation
```

#### **4. Testing:**
```javascript
// Belajar testing:
- Unit tests dengan Jest
- Edge cases handling
- Performance testing
```

---

### ğŸ“ Resources Rekomendasi:

**JavaScript Fundamentals:**
- MDN Web Docs (Array methods)
- JavaScript.info (Modern JS)
- Eloquent JavaScript (Free book)

**Clean Code:**
- "Clean Code" by Robert C. Martin
- "Code Complete" by Steve McConnell

**Practice Platforms:**
- LeetCode
- HackerRank
- Codewars

---

## ğŸ‰ Penutup

### âœ¨ Selamat!

Anda telah menyelesaikan pembelajaran lengkap tentang:
- âœ… Problem solving step-by-step
- âœ… Multiple implementation approaches
- âœ… Best practices & naming conventions
- âœ… Bug analysis & optimization
- âœ… Modern JavaScript features

### ğŸ† Achievement Unlocked:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                       â”‚
â”‚    ğŸ“ MASTER OF BOOK SORTING ğŸ“      â”‚
â”‚                                       â”‚
â”‚  You've completed the full journey   â”‚
â”‚  from beginner to optimized code!    â”‚
â”‚                                       â”‚
â”‚         Keep coding! ğŸš€               â”‚
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ’ª Remember:

> **"Clean code is not written by following a set of rules.  
> You know you've achieved clean code when each routine  
> you read turns out to be pretty much what you expected."**  
> â€” Robert C. Martin

---

### ğŸ“¬ Feedback & Improvement:

Dokumentasi ini adalah living document. Jika ada yang perlu ditambah atau diperbaiki:
1. Review code secara berkala
2. Update dengan best practices terbaru
3. Tambahkan contoh use case baru
4. Share dengan teman-teman!

---

**ğŸ¯ Final Code Recommendation: Kode #4 (Optimized Version)**

```javascript
const sortInternationalBooks = (bookTitles, countries) => {
  const hasValidInput =
    bookTitles.length > 0 &&
    countries.length > 0 &&
    bookTitles.length === countries.length;
  if (!hasValidInput) return [];

  const books = bookTitles.map((title, index) => ({
    title,
    country: countries[index],
  }));

  books.sort((a, b) => a.title.localeCompare(b.title));

  const countryUsage = {};
  const selectedBooks = [];

  for (const book of books) {
    if (selectedBooks.length >= 20) break;
    const { country } = book;
    countryUsage[country] ??= 0;
    if (countryUsage[country] === 5) continue;
    selectedBooks.push(`${book.title} - ${country}`);
    countryUsage[country]++;
  }

  return selectedBooks;
};
```

---

**ğŸ“… Dibuat:** 2026
**ğŸ“ Versi:** 1.0
**ğŸ¯ Level:** Beginner to Advanced
**â±ï¸ Estimasi Belajar:** 2-3 jam

**Happy Coding! ğŸš€âœ¨**
